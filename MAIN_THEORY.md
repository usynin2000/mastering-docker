CHAT: https://chatgpt.com/c/692154fb-2b80-8329-aef2-96050f05f587 

> Контейнер — это способ изолировать приложение и его зависимости так, чтобы оно работало одинаково в разных средах. 

> Технически контейнер — это запущенный экземпляр образа (image).

Контейнер получает:

- собственное пространство имён процессов (PID),
- отдельные сетевые неймспейсы (network),
- файловую систему (комбинация read-only слоёв образа + writable слой сверху),
- ограничение ресурсов через cgroups (CPU, память, I/O).


Ключевые идеи:
- Легковесность: контейнеры делят ядро ОС с хостом, поэтому они намного « легче » виртуальных машин.
- Повторяемость: контейнер запускает приложение в предсказуемой среде.
- Скорость старта: контейнеры запускаются почти мгновенно.

> Аналогия: образ — это рецепт + готовые ингредиенты; контейнер — это приготовленное блюдо, которое можно есть (использовать).


### Контейнер vs виртуальная машина (VM)

> Коротко — у контейнера и VM похожие цели (изоляция), но разные уровни изоляции и накладные расходы.


| Параметр           |                                         Контейнер | Виртуальная машина                                 |
| ------------------ | ------------------------------------------------: | -------------------------------------------------- |
| Изоляция           |        Процессы, неймспейсы, cgroups (делит ядро) | Полная — свое ядро, BIOS, аппаратная виртуализация |
| Размер             |                  Мегабайты — образы обычно меньше | Гигабайты — целая ОС                               |
| Время старта       |                            Миллисекунды — секунды | Минуты                                             |
| Производительность |        Почти нативная (меньше накладных расходов) | Накладные расходы на виртуализацию                 |
| Использование      | Микросервисы, CI, dev, контейнеризация приложений | Изоляция разных ОС, старое ПО, гипервизоры         |


Когда выбирать что:

Нужна быстрая масштабируемость и консистентность среды — контейнеры.

Требуется полная аппаратная/ядровая изоляция или запуск другой ОС — VM.


### Docker Engine, Daemon, CLI — что это и как они связаны
- Docker Engine — это общее название платформы Docker, которая включает в себя серверную часть и клиент.

- Компоненты: Docker Daemon (server), REST API, Docker CLI (client).

- Docker Daemon (dockerd) — фоновый процесс, который управляет образами, контейнерами, сетью и томами. С ним взаимодействует CLI через API. На Linux обычно dockerd.

- Docker CLI (docker) — командная утилита, которую ты запускаешь в терминале (docker run, docker build и т.д.). CLI отправляет команды на daemon через REST API (локально по сокету либо по TCP).

Пример взаимодействия:
Ты набираешь docker run nginx. CLI формирует запрос -> отправляет daemon -> daemon создаёт/запускает контейнер -> возвращает статус.